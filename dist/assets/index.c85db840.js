import{r as u,R as e,$ as l,t as R,a as d,b as g,e as c,u as se,c as Ee,d as fe,f as Z,g as b,h,i as y,G as he,s as pe,j as le,k as Q,l as be,N as ce,m as ye,n as F,o as D,p as C,q as W,_ as $,v as ue,w as ie,x as Ce,y as z,z as M,A as $e,B as we,C as xe,D as A,E as ke,L as N,T as O,F as U,H as ve,I as Se,J as Y,K as ze,M as G,O as me,P,Q as De,S as K,U as Ae,V as je,W as Fe,X as Ie,Y as Te,Z as ee,a0 as q,a1 as Be,a2 as Re,a3 as We,a4 as Me,a5 as Pe,a6 as te}from"./vendor.4bf06d96.js";const Le=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}};Le();const Ne=t=>{const[n,a]=u.exports.useState(!1),{auth:r}=u.exports.useContext(I),[o,s]=u.exports.useState(""),[i,m]=u.exports.useState("");u.exports.useState(""),se(r);const[E,f,x,T]=Ee(r),[k,B,v,S]=fe(r);return S?e.createElement(l,{direction:"column",alignItems:"center",justifyContent:"center"},e.createElement("p",null,"Error: ",S.message),t.backButton):v?e.createElement(Z,null):T?e.createElement(l,{direction:"column",alignItems:"center",justifyContent:"center"},e.createElement("p",null,"Error: ",T.message),t.backButton):x?e.createElement(Z,null):f?e.createElement("div",null,e.createElement("p",null,"Registered User: ",f.email)):n==!1?e.createElement(e.Fragment,null,e.createElement(b,{css:{padding:"$10",width:"fit-content",backgroundColor:"$accents1"}},e.createElement(h,{css:{width:"max-content"},justify:"center"},e.createElement(d,{h2:!0,css:{fontWeight:"$bold",textGradient:"0deg, $pink800 -40%, $pink500 50%"}},"Sign in with Email")),e.createElement(c,{y:3}),e.createElement(y,{status:"default",labelPlaceholder:"Email",bordered:!0,value:o,onChange:p=>s(p.target.value)}),e.createElement(c,{y:2.5}),e.createElement(y.Password,{bordered:!0,labelPlaceholder:"Password",type:"password",value:i,onChange:p=>m(p.target.value)}),e.createElement(c,{y:3}),e.createElement(l,{justifyContent:"space-around",alignItems:"center"},e.createElement(g,{css:{fontSize:"$sm",fontWeight:"$bold"},rounded:!0,color:"default",onClick:()=>k(o,i)},"Sign in")),e.createElement(h,{css:{width:"max-content"},justify:"center"},e.createElement(c,{y:2}),e.createElement(g,{onClick:()=>a(!0),flat:!0,css:{fontSize:"$md",fontWeight:"$bold"},color:"success"},"Create account"))),e.createElement(c,null),t.backButton):e.createElement(e.Fragment,null,e.createElement(b,{css:{padding:"$10",width:"fit-content",backgroundColor:"$accents1"}},e.createElement(h,{css:{width:"max-content"},justify:"center"},e.createElement(d,{h2:!0,css:{fontWeight:"$bold",textGradient:"0deg, $green800 -40%, $green500 50%"}},"Create account")),e.createElement(c,{y:1}),e.createElement(y,{status:"default",label:"Email",bordered:!0,value:o,onChange:p=>s(p.target.value)}),e.createElement(c,{y:1}),e.createElement(y.Password,{bordered:!0,label:"Password",type:"password",value:i,onChange:p=>m(p.target.value)}),e.createElement(c,{y:1}),e.createElement(l,{direction:"column",justifyContent:"space-around",alignItems:"center"},e.createElement(c,{y:2}),e.createElement(g,{onClick:()=>{E(o,i)},rounded:!0,css:{fontSize:"$md",fontWeight:"$bold"}},"Create")),e.createElement(h,{css:{width:"max-content"},justify:"center"})),e.createElement(c,null),e.createElement(R,{block:!0,onClick:()=>a(!1)},"\u2190 Sign in with Email"))};function Oe(){const{auth:t}=u.exports.useContext(I);u.exports.useEffect(()=>{},[t]);const n=async()=>{console.log("\u043D\u0430\u0436\u0430\u0442\u0430 \u043A\u043D\u043E\u043F\u043A\u0430 Sign in with Google");const o=new he,{user:s}=await pe(t,o);s&&(console.log(s),console.log("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C  \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043D, \u043F\u0435\u0440\u0435\u0430\u0434\u0440\u0435\u0441\u0441\u0430\u0446\u0438\u044F \u043D\u0430 WorkSpace")),console.log("\u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"),console.log(s)},[a,r]=u.exports.useState(!1);return a==!1?(console.log(!1),e.createElement(e.Fragment,null,e.createElement("div",{id:"container2"},e.createElement(l,{direction:"column",justifyContent:"center",alignItems:"center"},e.createElement(R,{css:{marginBottom:"$10",fontSize:60,fontWeight:"$bold"},color:"error"},"Cryptodonat"),e.createElement(d,{h4:!0,css:{color:"$accents7"}},"Receive donations in cryptocurrency with messages from patrons."),e.createElement(d,{h4:!0,css:{color:"$accents7"}},"Donations alerts during live broadcast with OBS Studio."))),e.createElement("div",{id:"page"},e.createElement(g,{shadow:!0,rounded:!0,onClick:n,id:"go"},"Sign in with Google"),e.createElement(c,null),e.createElement(c,null),e.createElement(g,{shadow:!0,rounded:!0,color:"secondary",onClick:()=>r(!0),id:"go"},"Sign in with Email"),e.createElement("div",{id:"footerlogin"})))):e.createElement(e.Fragment,null,e.createElement("div",{id:"pageEmail"},e.createElement(Ne,{backButton:e.createElement(R,{block:!0,color:"primary",onClick:()=>r(!1)},"\u2190 \u0421hoose a login method")})))}const Ue=le({type:"dark",theme:{colors:{}}});function Ge(){var n,a;const t=Q();return be(),(a=(n=t.state)==null?void 0:n.from)==null||a.pathname,e.createElement(e.Fragment,null,e.createElement(ce,{theme:Ue}),e.createElement(Oe,null))}ye(t=>({appRef:void 0,bears:0,data:"",balance:"",setApp:n=>t(a=>({appRef:n})),setData:n=>t(a=>({data:_e(n)})),setBalance:(n,a)=>t(r=>({balance:Ye(n,a)})),removeAllBears:()=>t({bears:0})}));function _e(t){return console.log(t&&t.data()),t&&(console.log("value"),console.log(t.data().wallet),(async()=>{console.log(t.data().wallet);const{bitcoin:{addresses:a,transactions:r}}=mempoolJS({hostname:"mempool.space"}),o=t.data().wallet;await a.getAddress({address:o});const s=await a.getAddressTxs({address:o}),i=await a.getAddressTxsMempool({address:o});console.log(i);const m=s[0].txid;await r.getTx({txid:m})})()),""}function Ye(t,n){return t&&(console.log("value"),console.log(t.data().wallet),console.log(n),(async()=>{console.log(t.data().wallet);const{bitcoin:{addresses:r,transactions:o}}=mempoolJS({hostname:"mempool.space"}),s=t.data().wallet,i=await r.getAddress({address:s}),m=await r.getAddressTxs({address:s}),E=await r.getAddressTxsMempool({address:s});console.log(E),console.log(m);const f=m[0].txid;await o.getTx({txid:f});const x=i.chain_stats.funded_txo_sum-i.chain_stats.spent_txo_sum;console.log(x),Ke(V,n,x,m,E)})()),""}function Ke(t,n,a,r,o){console.log(r,o),F(D(t,"users",n.uid),{balance:a/1e8,myAddressTxs:r,myAddressTxsMempool:o},{merge:!0})}async function Qe(t){await $e(t.ref)}function qe(t){if(t){console.log(t);const n=[],a=[];t.docs.map(r=>n.push(r));for(let r=0;r<n.length;r++)n[r].data().status=="confirm"&&a.push(n[r]);return a}return null}function ne(t){return new Date(Number(t)*1e3)}function He(t){const n=qe(t.tickets);let[a,r]=u.exports.useState(!1);u.exports.useEffect(()=>{a&&setTimeout(()=>{r(!1)},2e3)},[a]);let[o,s]=u.exports.useState(!1);return u.exports.useEffect(()=>{o&&setTimeout(()=>{s(!1)},2e3)},[o]),e.createElement(e.Fragment,null,e.createElement(C,{borderRadius:"large",gridArea:"toc"},e.createElement(h,{css:{backgroundColor:"rgba(0,0,0,0)"}},n&&n.length==0&&e.createElement("div",{id:"donations"},e.createElement(l,{direction:"column",justifyContent:"center",alignItems:"center"},e.createElement(h,{css:{padding:"$6",width:"92%",borderRadius:"$lg",backgroundColor:"$accents1",margin:"$5"}},e.createElement(c,{y:1}),e.createElement(l,{justifyContent:"center"},e.createElement(d,{h3:!0},"You haven't donated yet")),e.createElement(c,{y:1}),e.createElement(l,{justifyContent:"center"},e.createElement(d,{color:"warning",h5:!0},"Don't forget to share this link with your followers")),e.createElement(l,{direction:"column",alignItems:"center",justifyContent:"center"},e.createElement(c,{y:1.5}),e.createElement(W.CopyToClipboard,{text:"http://localhost:8080/"+t.user.uid,onCopy:()=>s(!0)},o?e.createElement(g,{css:{marginRight:"$9"},color:"success",flat:!0,auto:!0,size:"sm"},e.createElement($,{marginEnd:"size-100"}),"Copied!"):e.createElement(g,{css:{marginRight:"$9"},color:"secondary",auto:!0,size:"sm"},e.createElement($,{marginEnd:"size-100"}),"Copy Donat Page link")),e.createElement(c,{y:1.5}),e.createElement(g,{onClick:()=>window.open("http://localhost:8080/"+t.user.uid),css:{marginRight:"$9"},color:"gradient",auto:!0,size:"xs"},e.createElement(ue,{marginEnd:"size-100"}),"Go to your Donate Page"),e.createElement(c,null))),e.createElement(h,{css:{padding:"$6",width:"92%",borderRadius:"$lg",backgroundColor:"$accents1",margin:"$5"}},e.createElement(c,{y:1}),e.createElement(l,{justifyContent:"center"},e.createElement(d,{h3:!0},"Donation alerts in OBS Studio")),e.createElement(c,{y:.8}),e.createElement(l,{justifyContent:"center"},e.createElement(d,{css:{color:"$accents6"},h5:!0},"Use this link as browser source in OBS Studio")),e.createElement(l,{direction:"column",alignItems:"center",justifyContent:"center"},e.createElement(c,{y:1.5}),e.createElement(W.CopyToClipboard,{text:"http://localhost:8080/overlay/"+t.user.uid,onCopy:()=>r(!0)},a?e.createElement(g,{css:{marginRight:"$9"},color:"success",flat:!0,auto:!0,size:"sm"},e.createElement($,{marginEnd:"size-100"}),"Copied!"):e.createElement(g,{css:{marginRight:"$9"},color:"secondary",auto:!0,size:"sm"},e.createElement($,{marginEnd:"size-100"}),"Copy Overlay link")),e.createElement(c,null))))),t.tickets&&e.createElement("div",{id:"donations"},e.createElement(l,{direction:"column-reverse"},n.map(i=>e.createElement(e.Fragment,{key:i.data().id},e.createElement(h,{css:{padding:"$6",width:"92%",borderRadius:"$lg",backgroundColor:"$accents1",margin:"$5"}},e.createElement(l,{alignItems:"center",justifyContent:"space-around"},e.createElement(l,{direction:"row"},e.createElement(d,{color:"success",h5:!0,weight:"bold",css:{marginTop:8}},"$",i.data().usdAmount)),e.createElement(d,{h4:!0,weight:"bold"},i.data().name),e.createElement(ie,{onPress:()=>Qe(i),isQuiet:!0},e.createElement(Ce,null))),e.createElement(h,{css:{marginTop:"$5"},padding:"size-0"},e.createElement(d,null,i.data().msg)),e.createElement(l,{justifyContent:"end",alignItems:"center"},e.createElement(d,{css:{color:"$accents4"}},z(ne(i.data().time),"mediumDate")),e.createElement(c,null),e.createElement(d,{css:{color:"$accents4"}},z(ne(i.data().time),"shortTime")),e.createElement(c,null))))))),e.createElement(C,{borderRadius:"large",gridArea:"nav"},e.createElement(M,null),t.tickets&&n.map(i=>e.createElement(d,{key:i.data().id},i.data().staus))))))}function Ve(){return u.exports.useState([10,100,1e3]),e.createElement(e.Fragment,null,e.createElement(l,{marginTop:"size-100",direction:"row"}))}const Xe=[{name:"Yesterday",uv:4e3,pv:0,amt:2400},{name:"Today",uv:2390,pv:0,amt:2500}];function Je(t){if(t){console.log(t);const n=[],a=[];t.docs.map(r=>n.push(r.data()));for(let r=0;r<n.length;r++)n[r].status=="confirm"&&a.push(n[r]);return a}return null}function ae(t){if(t){var n=0;for(let a=0;a<t.length;a++)n+=Number(t[a].usdAmount);return n}return 0}function re(t){return t?t.length:0}function _({payload:t,label:n,active:a}){return a&&t!=null?e.createElement(b,{css:{backgroundColor:"rgba(0,0,0,0.5)"}},e.createElement(d,{color:"success",h3:!0},`$${t[0].value}`),e.createElement(d,{h5:!0},`${t[0].payload.name} `)):null}function j(t,n){if(t){let a=function(m){let E=0;for(let f=0;f<r.length;f++)z(new Date(r[f].time*1e3),"DD")==s[m]&&(E=E+Number(r[f].usdAmount));return{pv:E,name:s[m]+" "+n}};const r=[];for(let m=0;m<t.length;m++)z(new Date(Number(t[m].time)*1e3),"MMMM")==n&&r.push(t[m]);const o=[];for(let m=0;m<r.length;m++)o.push(z(new Date(r[m].time*1e3),"DD"));const s=o.filter(function(m,E){return o.indexOf(m)==E}),i=[];for(let m=0;m<s.length;m++)i.push(a(m));return i}}function Ze(t,n,a,r){me(r)&&F(D(t,"users",n.uid),{id:n.uid,username:a,wallet:r,showMessage:!1,alert:!0})}function et(t,n,a){F(D(t,"users",n.uid),{username:a},{merge:!0})}function tt(t,n,a){me(a)&&F(D(t,"users",n.uid),{wallet:a},{merge:!0})}const nt=()=>{const t=document.getElementById("QRCode");console.log(t);const n=new XMLSerializer().serializeToString(t),a=document.createElement("canvas"),r=a.getContext("2d"),o=new Image;o.onload=()=>{a.width=o.width,a.height=o.height,r.drawImage(o,0,0);const s=a.toDataURL("image/png"),i=document.createElement("a");i.download="QRCode",i.href=`${s}`,i.click()},o.src=`data:image/svg+xml;base64,${btoa(n)}`};function at(t,n,a,r){r&&r._document!=null&&F(D(t,"users",n.uid),{showMessage:a},{merge:!0})}function rt(t,n,a,r){r&&r._document!=null&&F(D(t,"users",n.uid),{alert:a},{merge:!0})}function ot(t){const n=Je(t.tickets);console.log(ae(n));const[a,r]=u.exports.useState(z(new Date,"MMMM")),[o,s]=u.exports.useState(!0),[i,m]=u.exports.useState(!0),[E,f]=u.exports.useState(!1),[x,T]=u.exports.useState(""),[k,B]=u.exports.useState(""),[v,S]=u.exports.useState(""),[p,L]=u.exports.useState(""),[X,de]=u.exports.useState(""),[J,ge]=u.exports.useState("");return u.exports.useEffect(()=>{rt(t.db,t.user,J,t.value)},[J]),u.exports.useEffect(()=>{at(t.db,t.user,X,t.value)},[X]),u.exports.useEffect(()=>{E&&setTimeout(()=>{f(!1)},2e3)},[E]),t.value&&t.value._document==null?e.createElement(C,{height:"88vh",margin:"size-100",borderRadius:"large",gridArea:"content"},e.createElement(h,{css:{borderRadius:"$lg",backgroundColor:"$accents1",marginLeft:"$10",height:"100%"}},e.createElement(l,{justifyContent:"center",alignItems:"center",direction:"column"},e.createElement(b,{css:{marginTop:"$20",width:"fit-content",backgroundColor:"$accents2"}},e.createElement(c,null),e.createElement(l,{justifyContent:"center"},e.createElement(d,{h2:!0,css:{fontWeight:"$bold",textGradient:"0deg, $pink800 -40%, $pink500 50%"}},"Welcome")),e.createElement(c,null),e.createElement(l,{justifyContent:"center"},e.createElement(d,{css:{color:"$accents9"},b:!0,h6:!0},"Your name displayed on your donation page")),e.createElement(c,{y:.5}),e.createElement(y,{width:"400px",status:"default",placeholder:"Name",value:x,onChange:w=>T(w.target.value)}),e.createElement(c,{y:1.5}),e.createElement(l,{justifyContent:"center"},e.createElement(d,{css:{color:"$accents9"},b:!0,h6:!0},"You receive donations to your personal bitcoin wallet")),e.createElement(c,{y:.5}),e.createElement(y,{width:"400px",placeholder:"Bitcoin adress",value:k,onChange:w=>B(w.target.value)}),e.createElement(c,{y:2.5}),e.createElement(l,{justifyContent:"center"},e.createElement(g,{css:{width:"fit-content"},onClick:()=>Ze(t.db,t.user,x,k)},"Next")),e.createElement(c,{y:.5}))))):e.createElement(e.Fragment,null,e.createElement(C,{isHidden:{M:!0,base:!0,L:!1},height:"88vh",margin:"size-100",borderRadius:"large",gridArea:"content"},e.createElement(h,{css:{borderRadius:"$lg",backgroundColor:"$accents1",marginLeft:"$10",height:"99%",width:"100%"}},e.createElement(l,{marginTop:"size-100"},e.createElement(we,{orientation:"horizontal"},e.createElement(xe,null,e.createElement(A,{key:"item1"},e.createElement(M,{level:4},"Stats")),e.createElement(A,{key:"item2"},e.createElement(M,{level:4},"Overlay")),e.createElement(A,{key:"item3"},e.createElement(M,{level:4},"Settings"))),e.createElement(ke,null,e.createElement(A,{key:"item1"},e.createElement(l,{justifyContent:"left",alignItems:"center"},e.createElement(b,{css:{width:"min-content",margin:"$10",backgroundColor:"$accents2"}},e.createElement(l,{justifyContent:"space-around"},e.createElement(l,{alignItems:"center",justifyContent:"space-between"},e.createElement(d,{h1:!0,css:{marginBottom:"$0",textGradient:"45deg, $blue500 -20%, $blue400 50%"},weight:"bold"},re(n)),e.createElement(d,{h2:!0,weight:"bold",css:{marginTop:"$4",marginLeft:"$8",textGradient:"45deg, $blue500 -20%, $blue400 50%"}},"donations")),e.createElement(d,{h1:!0,size:80,css:{padding:"20px",textGradient:"45deg, $blue500 -20%, $green500 50%"},weight:"bold"},"$",ae(n))),re(n)==0&&e.createElement(N,{width:500,height:150,data:Xe},e.createElement(O,{dataKey:"name",content:e.createElement(_,null),cursor:!1}),e.createElement(U,{type:"monotone",dataKey:"pv",stroke:"#8884d8",strokeWidth:5})),j(n,a)&&j(n,a).length==1&&e.createElement(N,{width:500,height:150,data:[{name:"Yesterday",pv:0}].concat(j(n,a))},e.createElement(O,{dataKey:"name",content:e.createElement(_,null),cursor:!1}),e.createElement(U,{type:"monotone",dataKey:"pv",stroke:"#8884d8",strokeWidth:5})),j(n,a)&&j(n,a).length>1&&e.createElement(N,{width:500,height:150,data:j(n,a)},e.createElement(O,{dataKey:"name",content:e.createElement(_,null),cursor:!1}),e.createElement(U,{type:"monotone",dataKey:"pv",stroke:"#8884d8",strokeWidth:5})),e.createElement(d,{h2:!0,css:{fontWeight:"bold",padding:"20px",textGradient:"45deg, $blue500 -20%, $pink500 50%"}},z(new Date,"MMMM YYYY")))),e.createElement(l,{alignItems:"center",justifyContent:"center"})),e.createElement(A,{key:"item2"},e.createElement(l,{justifyContent:"left"},e.createElement(b,{css:{maxWidth:"fit-content",margin:"$10",backgroundColor:"$accents3"}},e.createElement(l,{justifyContent:"center",alignItems:"center",gap:"size-200",orientation:"horizontal"},e.createElement(ve,{size:"sm",color:"success",shadow:!0,initialChecked:t.value&&t.value.data().alert,onChange:w=>ge(w.target.checked)}),e.createElement(d,{h3:!0},"Alerts")),e.createElement(c,null),e.createElement(l,{direction:"column",justifyContent:"center",alignItems:"center"},e.createElement(b,null,e.createElement(l,null,e.createElement(d,{h2:!0,css:{marginRight:"$10",textGradient:"0deg, $black -20%, $white 60%"},weight:"bold"},"Username"),e.createElement(d,{h3:!0,css:{marginTop:"$6",textGradient:"45deg, #7FFF00 -20%, #7FFF00 50%"},weight:"bold"},"$100")),e.createElement(d,{h5:!0},"Message example"))),e.createElement(c,null),e.createElement(l,{direction:"column",justifyContent:"center",alignItems:"center"},e.createElement(b,{css:{backgroundColor:"$accents2"}},e.createElement(Se,{initialChecked:t.value&&t.value.data().showMessage,onChange:de},"Show message")),e.createElement(c,{y:1.5}),e.createElement(W.CopyToClipboard,{text:"http://localhost:8080/overlay/"+t.user.uid,onCopy:()=>f(!0)},E?e.createElement(g,{css:{},flat:!0,color:"success",auto:!0,size:"sm"},e.createElement($,{marginEnd:"size-100"}),"Copied!"):e.createElement(Y,{color:"invert",placement:"bottom",content:"Use this link as browser source in OBS Studio."},e.createElement(g,{color:"secondary",auto:!0,size:"sm"},e.createElement($,{marginX:"size-100"}),"Copy Overlay link"))),e.createElement(c,{y:.5}))),e.createElement(b,{css:{maxWidth:"fit-content",margin:"$10",backgroundColor:"$accents2",height:"fit-content"}},e.createElement(l,{justifyContent:"center",alignItems:"center",gap:"size-200",orientation:"horizontal"},e.createElement(d,{h3:!0},"QR Code")),e.createElement(c,null),e.createElement(l,{direction:"column",justifyContent:"center",alignItems:"center"},e.createElement(ze,{id:"QRCode",size:170,value:"http://localhost:8080/"+t.user.uid})),e.createElement(c,{y:1.5}),e.createElement(l,{direction:"column",justifyContent:"center",alignItems:"center"},e.createElement(g,{size:"md",onClick:()=>nt(),flat:!0,color:"success"},"Download QR Code"),e.createElement(c,{y:.5})))),e.createElement(l,{justifyContent:"center",alignItems:"center"})),e.createElement(A,{key:"item3"},e.createElement(l,{justifyContent:"left",alignItems:"center"},e.createElement(b,{css:{margin:"$10",backgroundColor:"$accents3",width:"fit-content"}},e.createElement(G.Group,{splitted:!0},e.createElement(G,{title:"Name",subtitle:"Displayed on your donation page"},o?e.createElement(e.Fragment,null,e.createElement(y,{value:t.value&&t.value.data().username,disabled:!0,readOnly:!0,css:{width:"400px"}}),e.createElement(c,null),e.createElement(g,{onClick:()=>s(!1),size:"xs"},"Change")):e.createElement(e.Fragment,null,e.createElement(y,{value:v,onChange:w=>S(w.target.value),status:"success",css:{width:"400px"}}),e.createElement(c,null),e.createElement(g,{size:"xs",color:"success",onClick:()=>[et(t.db,t.user,v),s(!0)]},"Save"))),e.createElement(G,{title:"Bitcon adress",subtitle:"Donations will come to your personal bitcoin wallet"},i?e.createElement(e.Fragment,null,e.createElement(y,{value:t.value&&t.value.data().wallet,disabled:!0,readOnly:!0,css:{width:"400px"}}),e.createElement(c,null),e.createElement(g,{onClick:()=>m(!1),size:"xs"},"Change")):e.createElement(e.Fragment,null,e.createElement(y,{status:"success",css:{width:"400px"},value:p,onChange:w=>L(w.target.value)}),e.createElement(c,null),e.createElement(g,{color:"success",onClick:()=>[tt(t.db,t.user,p),m(!0)],size:"xs"},"Save")))))))))),e.createElement(Ve,null))))}const st=le({type:"dark",theme:{colors:{}}});function lt(){let[t,n]=u.exports.useState();const{auth:a,app:r,db:o}=u.exports.useContext(I),[s]=P(a);se(a),u.exports.useEffect(()=>{},[]);const[i,m,E]=De(D(K(r),"users",s.uid),{snapshotListenOptions:{includeMetadataChanges:!0}}),[f,x,T]=Ae(je(K(r),"users",s.uid,"tickets/"),{snapshotListenOptions:{includeMetadataChanges:!0}});let[k,B]=u.exports.useState(!1),[v,S]=u.exports.useState(!1);u.exports.useEffect(()=>{k&&setTimeout(()=>{B(!1)},2e3)},[k]),u.exports.useEffect(()=>{v&&setTimeout(()=>{S(!1)},2e3)},[v]);let[p,L]=u.exports.useState(!1);return u.exports.useEffect(()=>{t==""&&L(!0)},[]),s?e.createElement(e.Fragment,null,e.createElement(Fe,{theme:Ie},e.createElement(Te,{areas:{base:["headermini","content","toc"],S:["headermini headermini","content    content","toc toc"],L:["header header  header","content    content toc"]},columns:{base:["1fr"],S:["1fr","1fr","1fr"],L:["1fr","1fr","1fr"]}},e.createElement(C,{gridArea:"headermini",isHidden:{base:!1,S:!1,L:!0},margin:"size-100"},e.createElement(h,{css:{width:"98%",backgroundColor:"$accents1",borderRadius:"$lg",padding:"$2"},color:"default"},e.createElement(l,{direction:"row-reverse",alignItems:"center",justifyContent:"space-between",marginY:"size-100",marginStart:"size-200",marginEnd:"size-200"},e.createElement(C,null,e.createElement(l,null,e.createElement(g,{css:{marginLeft:"$10"},flat:!0,color:"error",auto:!0,size:"sm",variant:"cta",onPress:()=>[ee(a),setTimeout(()=>{window.location.reload()},16)]},"Sign Out"))),e.createElement(l,{direction:"row",justifyContent:"center"},e.createElement(C,{justifySelf:"center"},e.createElement(R,{color:"error",block:!0,css:{fontSize:30,fontWeight:"$bold"}},"Cryptodonat")))))),e.createElement(C,{gridArea:"header",isHidden:{base:!0,M:!0,L:!1},margin:"size-100"},e.createElement(h,{css:{width:"98%",backgroundColor:"$accents1",borderRadius:"$lg",padding:"$2"},color:"default"},e.createElement(l,{direction:"row-reverse",alignItems:"center",justifyContent:"space-between",marginY:"size-100",marginStart:"size-200",marginEnd:"size-200"},e.createElement(C,null,e.createElement(l,null,e.createElement(W.CopyToClipboard,{text:"http://localhost:8080/overlay/"+s.uid,onCopy:()=>B(!0)},k?e.createElement(g,{css:{marginRight:"$10"},flat:!0,color:"success",auto:!0,size:"sm"},e.createElement($,{marginEnd:"size-100"}),"Copied!"):e.createElement(Y,{color:"invert",placement:"bottom",content:"Use this link as browser source in OBS Studio."},e.createElement(g,{css:{marginRight:"$10"},color:"secondary",auto:!0,size:"sm"},e.createElement($,{marginX:"size-100"}),"Copy Overlay link"))),e.createElement(W.CopyToClipboard,{text:"http://localhost:8080/"+s.uid,onCopy:()=>S(!0)},v?e.createElement(g,{color:"success",flat:!0,auto:!0,size:"sm"},e.createElement($,{marginEnd:"size-100"}),"Copied!"):e.createElement(Y,{color:"invert",placement:"bottom",content:"Don't forget to share this link"},e.createElement(g,{color:"secondary",auto:!0,size:"sm"},e.createElement($,{marginEnd:"size-100"}),"Copy Donat Page link"))),e.createElement(g,{css:{marginLeft:"$10"},flat:!0,color:"error",auto:!0,size:"sm",variant:"cta",onPress:()=>ee(a)},"Sign Out"))),e.createElement(l,{direction:"row",justifyContent:"center"},e.createElement(C,{justifySelf:"center"},e.createElement(R,{color:"error",block:!0,css:{fontSize:30,fontWeight:"$bold"}},"Cryptodonat")),e.createElement(ie,{isQuiet:!0,onPress:()=>window.open("http://localhost:8080/"+s.uid)},e.createElement(ue,null)))))),e.createElement(ot,{auth:a,value:i,user:s,tickets:f,db:o}),e.createElement(He,{value:i,user:s,tickets:f,db:o}),e.createElement(ce,{theme:st})))):e.createElement(q,{to:"/"})}const ct=({children:t})=>{const n=Q(),{auth:a}=u.exports.useContext(I),[r]=P(a);return console.log("\u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r?t:(console.log(r),console.log("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043D, \u043F\u0435\u0440\u0435\u0430\u0434\u0440\u0435\u0441\u0441\u0430\u0446\u0438\u044F \u043D\u0430 Login"),e.createElement(q,{to:"/",state:n}))},ut=({children:t})=>{const n=Q(),{auth:a}=u.exports.useContext(I),[r]=P(a);return console.log("\u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u043E\u0442\u0441\u0443\u0441\u0442\u0432\u0438\u044F \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r?(console.log(r),console.log("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C  \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043D, \u043F\u0435\u0440\u0435\u0430\u0434\u0440\u0435\u0441\u0441\u0430\u0446\u0438\u044F \u043D\u0430 WorkSpace"),e.createElement(q,{to:"/workspace",state:n})):t},it={apiKey:"AIzaSyAfxteKn2ks9t0VahryPrCDK9HUNDZ7nNQ",authDomain:"cryptodonat-9b4c7.firebaseapp.com",projectId:"cryptodonat-9b4c7",storageBucket:"cryptodonat-9b4c7.appspot.com",messagingSenderId:"740701682510",appId:"1:740701682510:web:c5262c59bc5138b8e4fc1f",measurementId:"G-NMWD3CD7WW"},H=Be(it),oe=Re(H),V=K(H);console.log(V);const I=e.createContext(null);function mt(){const[t]=P(oe);return console.log(t),e.createElement(I.Provider,{value:{app:H,auth:oe,db:V}},e.createElement(Me,null,e.createElement(Pe,null,e.createElement(te,{path:"/",element:e.createElement(ut,null,e.createElement(Ge,null))}),e.createElement(te,{path:"/workspace",element:e.createElement(ct,null,t&&e.createElement(lt,null))}))))}We.render(e.createElement(mt,null),document.getElementById("app"));
